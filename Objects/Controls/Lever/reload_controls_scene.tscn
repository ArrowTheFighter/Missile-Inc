[gd_scene load_steps=16 format=3 uid="uid://c71yybjs2i0sa"]

[ext_resource type="Script" uid="uid://dwh0fp7bj24es" path="res://Objects/Controls/ControlsSpawnHandler/controls_spawn_handler.gd" id="1_svtig"]
[ext_resource type="PackedScene" uid="uid://b8oi31gd4xqhb" path="res://RawAssets/KayKit_Platformer_Pack_1.0_EXTRA/Assets/yellow/platform_2x2x1_yellow.gltf" id="2_ivv27"]
[ext_resource type="PackedScene" uid="uid://cimng1naje5s6" path="res://Objects/Controls/Wheel/wheel_scene.tscn" id="3_4ntu3"]
[ext_resource type="PackedScene" uid="uid://s6qddpkxjec7" path="res://Objects/Controls/Lever/lever_grip_scene.tscn" id="4_2cato"]
[ext_resource type="PackedScene" uid="uid://c2v2tipbfhlys" path="res://Objects/Controls/Lever/lever_knob_scene.tscn" id="5_phx7r"]
[ext_resource type="PackedScene" uid="uid://bvr3bvvvu02ue" path="res://RawAssets/KayKit_Platformer_Pack_1.0_EXTRA/Assets/yellow/platform_4x2x1_yellow.gltf" id="6_mqghr"]
[ext_resource type="Script" uid="uid://dhm6nex37emjt" path="res://Objects/Gun/AmmoCover/ammo_cover_script.gd" id="7_6775q"]
[ext_resource type="Script" uid="uid://b8qdrqu7nmj5w" path="res://Objects/Gun/AmmoCover/ammo_load_script.gd" id="8_dj03u"]
[ext_resource type="PackedScene" uid="uid://b6ln4quk1xu4g" path="res://Objects/Controls/Button/button_scene.tscn" id="9_yw7ea"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_esko7"]
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="BoxMesh" id="BoxMesh_1q1r1"]
material = SubResource("StandardMaterial3D_esko7")
size = Vector3(0.5, 0.5, 0.5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_o8s7l"]
albedo_color = Color(0, 0.50106174, 0.9646916, 1)

[sub_resource type="BoxMesh" id="BoxMesh_1d6go"]
material = SubResource("StandardMaterial3D_o8s7l")
size = Vector3(0.5, 0.5, 0.5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_7pw70"]
albedo_color = Color(0.95884234, 0, 0.06946598, 1)

[sub_resource type="BoxMesh" id="BoxMesh_j34ea"]
material = SubResource("StandardMaterial3D_7pw70")
size = Vector3(0.5, 0.25, 0.5)

[node name="Controls_scene" type="Node3D" node_paths=PackedStringArray("gun_fire_controls", "move_crosshair_x_controls", "move_crosshair_y_controls", "open_ammo_controls", "load_ammo_controls", "remove_empty_ammo_controls")]
transform = Transform3D(0.82, 0, 0, 0, 0.82, 0, 0, 0, 0.82, -0.6943917, 0.7076769, -0.8830316)
script = ExtResource("1_svtig")
offset_vector = Vector3(-12.245106, 0, 21.847252)
require_reloading = true
gun_fire_controls = [NodePath("platform_2x2x1_yellow15/Button")]
move_crosshair_x_controls = [NodePath("platform_2x2x1_yellow17/Wheel3")]
move_crosshair_y_controls = [NodePath("platform_2x2x1_yellow12/LeverKnob")]
open_ammo_controls = [NodePath("platform_2x2x1_yellow10/Wheel2")]
load_ammo_controls = [NodePath("platform_2x2x1_yellow11/LeverGrip")]
remove_empty_ammo_controls = [NodePath("platform_4x2x1_yellow3/Button2")]

[node name="platform_2x2x1_yellow10" parent="." instance=ExtResource("2_ivv27")]
transform = Transform3D(0.8, 0, 0, 0, -3.4969112e-08, -0.8, 0, 0.8, -3.4969112e-08, -3.1258802, 0.6925742, 0.19779027)

[node name="Wheel2" parent="platform_2x2x1_yellow10" instance=ExtResource("3_4ntu3")]
transform = Transform3D(0.9375, 0, 0, 0, -4.0979426e-08, 0.9375, 0, -0.9375, -4.0979426e-08, -0.014041662, 1.2915701, 0.076470435)
rotation_damp = 60.0

[node name="platform_2x2x1_yellow11" parent="." instance=ExtResource("2_ivv27")]
transform = Transform3D(0.8, 0, 0, 0, -3.4969112e-08, -0.8, 0, 0.8, -3.4969112e-08, -4.7444906, 0.6925742, 0.19779027)

[node name="LeverGrip" parent="platform_2x2x1_yellow11" instance=ExtResource("4_2cato")]
transform = Transform3D(1.25, 0, 0, 0, -5.4639234e-08, 1.25, 0, -1.25, -5.4639234e-08, 0.062425613, 0.9980824, 0.05647844)

[node name="platform_2x2x1_yellow12" parent="." instance=ExtResource("2_ivv27")]
transform = Transform3D(0.8, 0, 0, 0, -3.4969112e-08, -0.8, 0, 0.8, -3.4969112e-08, -3.1258802, -2.632068, 0.19779027)

[node name="LeverKnob" parent="platform_2x2x1_yellow12" instance=ExtResource("5_phx7r")]
transform = Transform3D(1.25, 0, 0, 0, -5.4639234e-08, 1.25, 0, -1.25, -5.4639234e-08, -0.01744914, 0.9980824, 0.04902327)

[node name="platform_4x2x1_yellow3" parent="." instance=ExtResource("6_mqghr")]
transform = Transform3D(0.8, 0, 0, 0, -3.4969112e-08, -0.8, 0, 0.8, -3.4969112e-08, -3.9370182, 2.3248978, 0.19627255)

[node name="Cover" type="Node3D" parent="platform_4x2x1_yellow3"]
transform = Transform3D(1.25, 0, 0, 0, -5.4639234e-08, 1.25, 0, -1.25, -5.4639234e-08, 0.66748285, 1.1748109, 0.15256524)

[node name="MeshInstance3D3" type="MeshInstance3D" parent="platform_4x2x1_yellow3/Cover"]
mesh = SubResource("BoxMesh_1q1r1")
skeleton = NodePath("../../../../..")

[node name="MeshInstance3D4" type="MeshInstance3D" parent="platform_4x2x1_yellow3/Cover"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.17540288)
mesh = SubResource("BoxMesh_1d6go")
skeleton = NodePath("../../../../..")
script = ExtResource("7_6775q")

[node name="Ammo" type="Node3D" parent="platform_4x2x1_yellow3"]
transform = Transform3D(1.25, 0, 0, 0, -5.4639234e-08, 1.25, 0, -1.25, -5.4639234e-08, 0.04789877, 1.1748109, 0.15256524)

[node name="MeshInstance3D4" type="MeshInstance3D" parent="platform_4x2x1_yellow3/Ammo"]
transform = Transform3D(0.84, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.109099865)
mesh = SubResource("BoxMesh_j34ea")
skeleton = NodePath("../../../../..")
script = ExtResource("8_dj03u")

[node name="Button2" parent="platform_4x2x1_yellow3" instance=ExtResource("9_yw7ea")]
transform = Transform3D(0.625, 0, 0, 0, -2.7319617e-08, 0.625, 0, -0.625, -2.7319617e-08, -0.75365734, 1.0662546, 0.14002538)

[node name="platform_2x2x1_yellow15" parent="." instance=ExtResource("2_ivv27")]
transform = Transform3D(0.8, 0, 0, 0, -3.4969112e-08, -0.8, 0, 0.8, -3.4969112e-08, -3.1172867, -4.2437277, 0.19779027)

[node name="Button" parent="platform_2x2x1_yellow15" instance=ExtResource("9_yw7ea")]
transform = Transform3D(0.9375, 0, 0, 0, -4.0979426e-08, 0.9375, 0, -0.9375, -4.0979426e-08, 0.06633139, 1.0643575, 0.056684017)

[node name="platform_2x2x1_yellow17" parent="." instance=ExtResource("2_ivv27")]
transform = Transform3D(0.8, 0, 0, 0, -3.4969112e-08, -0.8, 0, 0.8, -3.4969112e-08, -4.7444906, -2.6307921, 0.19779027)

[node name="Wheel3" parent="platform_2x2x1_yellow17" instance=ExtResource("3_4ntu3")]
transform = Transform3D(0.9375, 0, 0, 0, -4.0979426e-08, 0.9375, 0, -0.9375, -4.0979426e-08, -0.016162872, 1.305187, -0.0041446686)
rotation_damp = 60.0
min_rotations = 1.0

[connection signal="onValueChanged" from="platform_2x2x1_yellow10/Wheel2" to="platform_4x2x1_yellow3/Cover/MeshInstance3D4" method="set_cover_position"]
[connection signal="onValueChanged" from="platform_2x2x1_yellow11/LeverGrip" to="platform_4x2x1_yellow3/Ammo/MeshInstance3D4" method="set_cover_position"]
